---
layout: page
title: "Making an X10 Release"
alias: "making-an-x10-release"
category: "about-x10/about-x10"
---
<p>A number of artifacts are produced as part of making an X10 release.<br />
The main artifacts are:</p><ol><li>Binary releases of the PGAS runtime (hosted on codehaus) for each supported OS/hardware target.</li><li>A source release of X10.</li><li>A source release of the X10 test suite.</li><li>Binary platform-independent release of the Java backend and runtime.</li><li>Binary platform-dependent releases that contain both the Java and C++ backend and runtimes for each supported OS/hardware target.</li><li>PDF of the X10 language specification</li></ol><p>The following is the procedure used to make a release of X10.</p><h3><a name="MakingaX10Release-Beforecreatingthereleasebranch%28typicallythedaybefore%29"></a>Before creating the release branch (typically the day before)</h3><ol><li>Update the version information in x10.compiler/src/x10/Version.java</li><li>Update the plugin manifest version in all MANIFEST.MF files in X10 core projects</li><li>Copy the current set of PGAS binaries found in the svn head sub dir of <a class="external-link" href="http://dist.codehaus.org/x10/binaryReleases/">http://dist.codehaus.org/x10/binaryReleases/</a> to a new subdirectory named with the release number and change x10.runtime/src-cpp/x10rt/pgas/pgas.mk to pull from the release directory. The easiest way to move the files around is with cadaver (a command line tool with similar interface to sftp).<pre>mkdir junk
cadaver https://dav.codehaus.org/dist/x10/binaryReleases/svn%20head
&lt;login&gt;
mget *timestamp*
cd ../&lt;release-dir&gt;
mput *timestamp*
</pre></li></ol><h3><a name="MakingaX10Release-Createthereleasebranchandenterintofinaltestingphase"></a>Create the release branch and enter into final testing phase</h3><ol><li>&quot;Tag&quot; the release by using x10.dist/releng/makeTag.sh Use a svn revision number that matches one reported by a night-sanity run. i.e.<pre>makeTag -rev 12500 -tag SF_RELEASE_2_0_1
</pre></li><li>Enable the release-branch regression testing on triloka21 and 23. Log in as x10reg to each machine, update scripts to pull from the release branch created by makeTag, and uncomment crontab entry.</li><li>If fixes need to be applied to the release after it is created, apply fixes to head first. After they pass regression testing on head, pull them over to the release branch using<pre>  svn merge -c &lt;change revision&gt; ^/trunk
</pre></li></ol><h3><a name="MakingaX10Release-Whenallnecessaryfixeshavebeenpropagatedtothereleasebranch%2Conecanbuildtheactualreleaseartifacts%3A"></a>When all necessary fixes have been propagated to the release branch, one can build the actual release artifacts:</h3><ol><li>Update JIRA version management to indicate that version has been released.</li><li>Edit and commit release notes to the trunk. Release notes can be mostly generated from JIRA. Use svn merge to get the release notes from the trunk to the release branch.</li><li>One each target platform, run the x10.dist/releng/buildRelease.sh script.<pre>buildRelease.sh -version 2.0.1 -tag SF_RELEASE_2_0_1
</pre><p>This will create the three platform independent zip files and the platform-specific tar ball.</p></li><li>ssh into shell.sf.net and create a subdirectory of /home/frs/project/x/x1/x10 to hold the downloads. Use sftp to put them there as they are produced by buildRelease.sh on each platform. NOTE: AIX takes a very long time to build with optimization.</li><li>Put language spec pdf on dist.codehaus. Update in place x10-latest.pdf in addition to creating a x10-&lt;version&gt;.pdf. The release page itself will point to the x10-&lt;version&gt;.pdf. All of the other parts of the website refer to x10-latest.pdf.</li><li>Generate new x10doc and upload it to dist.codehaus</li><li>Update the confluence &quot;X10 Releases&quot; page to link to the new download version.</li><li>Send out mail announcements to x10-users and x10-announce</li><li>Also post announcement in SF news and Confluence news.</li></ol>
